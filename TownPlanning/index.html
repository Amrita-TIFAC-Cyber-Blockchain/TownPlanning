<!DOCTYPE html>
<html>
<head>
    <title>Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    

<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  --><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<style>
body {
  font-family: Arial, Helvetica, sans-serif;
}

.navbar {
  overflow: hidden;
  background-color: #333;
}

.navbar a {
  float: left;
  font-size: 16px;
  color: white;
  text-align: center;
  padding: 14px 16px;
  text-decoration: none;
}

.dropdown {
  float: left;
  overflow: hidden;
}

.dropdown .dropbtn {
  font-size: 16px;  
  border: none;
  outline: none;
  color: white;
  padding: 14px 16px;
  background-color: inherit;
  font-family: inherit;
  margin: 0;
}

.navbar a:hover, .dropdown:hover .dropbtn {
  background-color: red;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #f9f9f9;
  min-width: 160px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  z-index: 1;
}

.dropdown-content a {
  float: none;
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.dropdown-content a:hover {
  background-color: #ddd;
}

.dropdown:hover .dropdown-content {
  display: block;
}
</style>
</head>
<body onload="getlocation();">

<div class="navbar">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Coimbatore Corporation</a>
    </div>
  <a href="index.html">Home</a>
  <div class="dropdown">
    <button class="dropbtn">Electricity
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="html/elect_newconn.html">New Electricity Connection</a>
      <a href="html/elect_detailsview.html">Check the request</a>
      <a href="html/elect_review.html">Approval</a>
    </div>
  </div>
     <div class="dropdown">
    <button class="dropbtn">Building Plan 
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="html/building_newplan.html">Request New Plan Approval</a>
      <a href="html/building_detailsview.html">Plan Status</a>
    </div>
  </div> 
     <div class="dropdown">
    <button class="dropbtn">Birth & Death Certificates 
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="html/birth_death_new.htm#register_birth">New Birth Certificate</a>
      <a href="html/birth_death_new.html#register_death">New Death Certificate</a>
      <a href="html/birth_death_detailsview.html#register_birth">Birth Certificate Status</a>
	  <a href="html/birth_death_detailsview.html#register_death">Death Certificate Status</a>
    </div>
  </div> 
     <div class="dropdown">
    <button class="dropbtn">Water Management 
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="html/water_newconn.html">New Water Connection</a>
      <a href="html/water_detailsview.html">Status</a>
    </div>
  </div> 
</div>
    <br>
    <h1 align="center">Coimbatore Town Planning Authority</h1>
    <br><br>
    
    
        <div id="demo2" style="width: 1500px; height: 400px;"> 
              
        </div>
    
    <br><br>
    <marquee>Services Offered: Electricity Connection, Building Plan Management, Birth & Death Certificates Management, WaterSupply Management</marquee>
    
    <br><br>
    
    <div class="container">
    
  <div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner">
      <div class="item active">
        <img src="images/df-coimbatore-1.jpg" alt="Los Angeles" style="width:100%;">
      </div>

      <div class="item">
        <img src="images/images65846.jpg" alt="Chicago" style="width:100%;">
      </div>
    
      <div class="item">
        <img src="images/" alt="New york" style="width:100%;">
      </div>
    </div>

    <!-- Left and right controls -->
    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>
  <br>
    
    
        <script src="https://maps.google.com/maps/api/js?sensor=false"> 
              
        </script> 
        <script type="text/javascript"> 
        function getlocation(){ 
            if(navigator.geolocation){ 
                navigator.geolocation.getCurrentPosition(showLoc, errHand); 
            } 
        } 
        function showLoc(pos){ 
            latt = pos.coords.latitude; 
            long = pos.coords.longitude; 
            var lattlong = new google.maps.LatLng(latt, long); 
            var OPTions = { 
                center: lattlong, 
                zoom: 10, 
                mapTypeControl: true, 
                navigationControlOptions: {style:google.maps.NavigationControlStyle.SMALL} 
            } 
            var mapg = new google.maps.Map(document.getElementById("demo2"), OPTions); 
            var markerg =  
               new google.maps.Marker({position:lattlong, map:mapg, title:"You are here!"}); 
        } 
          
        function errHand(err) { 
            switch(err.code) { 
                case err.PERMISSION_DENIED: 
                    result.innerHTML = "The application doesn't have the permission"  +  
                               "to make use of location services" 
                    break; 
                case err.POSITION_UNAVAILABLE: 
                    result.innerHTML = "The location of the device is uncertain" 
                    break; 
                case err.TIMEOUT: 
                    result.innerHTML = "The request to get user location timed out" 
                    break; 
                case err.UNKNOWN_ERROR: 
                    result.innerHTML = "Time to fetch location information exceeded"+ 
                      "the maximum timeout interval" 
                    break; 
            } 
        } 
        </script> 
		
		 <script src="https://cdn.jsdelivr.net/npm/web3/dist/web3.js"></script>
		<script>	
	
		var account;
		window.addEventListener('load', async () => {

		
			if (typeof window.ethereum !== 'undefined') { 
				console.log("MetaMask is Available :) !"); 
				}
				
			// Modern DApp browsers
			if (window.ethereum) {
				window.web3 = new Web3(ethereum);
				
				// To prevent the page reloading when the MetaMask network changes
				ethereum.autoRefreshOnNetworkChange = false;
				
				// To Capture the account details from MetaMask
				const accounts = await ethereum.enable();
				account = accounts[0];
				
				}
			// Legacy DApp browsers
			else if (window.web3) {
				//window.web3 = new Web3(web3.currentProvider);
				window.web3 = new Web3(new Web3.providers.HttpProvider("https://ropsten.infura.io/v3/cbd9dc11b30147e9a2cc974be655ef7c")); 
				}
			// Non-DApp browsers
			else {
				console.log('Non-Ethereum browser detected. Please install MetaMask');
				}
				
				loadstatus();
				
				});
		
		</script>


</body>
</html>